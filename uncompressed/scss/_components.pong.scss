$size:1em;
$speed:1500ms;
$green:#8cdb8b;
$black:#353c39;

$size-double:2 * $size;
$size-neg:0 - $size;

.pong-loader{
    margin:10em auto;
    width:8em;
    height:6em;
    background:$black;
    position:relative;
    display:block;
    overflow:hidden;
    text-indent:100%;
    box-shadow:
        inset $black 0 0 0 0,
        inset $black 0 (4 * $size-neg) 0 0,
        inset $black (0.3 * $size-neg) 0 0 0,
        inset $green $size-neg 0 0 0
    ;
    animation:paddle_one $speed infinite linear;
}

.pong-loader:before{
    position:absolute;
    top:0;
    left:0;
    display:block;
    content:"";
    width:$size;
    height:100%;
    box-shadow:
        inset $black 0 0 0 0,
        inset $black 0 (4 * $size-neg) 0 0,
        inset $black (0.3 * $size) 0 0 0,
        inset $green $size-neg 0 0 0
    ;
    animation:paddle_two $speed infinite linear; 
}

.pong-loader:after{
    content:"";
    display:block;
    border-radius:50%;
    position:absolute;
    left:0;
    top:0;
    width:$size;
    height:$size;
    background:$green;
    animation:ball $speed infinite linear;
}

@keyframes ball{
    0%   {
        left:0.5 * $size;
        top:0;
    }
    25%   {
        left:6.5 * $size;
        top:2 * $size;
    }
    50%   {
        left:0.5 * $size;
    }
    62.5% {
        top:5 * $size;
    }
    75%   {
        left:6.5 * $size;
        top:70%;
    }
    100%   {
        left:0.5 * $size;
        top:0%;
    }
}


@keyframes paddle_one{
    0%   {
        box-shadow:
            inset $black 0 (0.5 * $size) 0 0,
            inset $black 0 (3.5 * $size-neg) 0 0,
            inset $black (0.3 * $size-neg) 0 0 0,
            inset $green $size-neg 0 0 0
        ;
    }
    25%   {
        box-shadow:
            inset $black 0 (1.5 * $size) 0 0,
            inset $black 0 (2.5 * $size-neg) 0 0,
            inset $black (0.3 * $size-neg) 0 0 0,
            inset $green $size-neg 0 0 0
        ;
    }
    50%   {
        box-shadow:
            inset $black 0 0 0 0,
            inset $black 0 (4 * $size-neg) 0 0,
            inset $black (0.3 * $size-neg) 0 0 0,
            inset $green $size-neg 0 0 0
        ;
    }
    62.5% {
        box-shadow:
            inset $black 0 $size 0 0,
            inset $black 0 (3 * $size-neg) 0 0,
            inset $black (0.3 * $size-neg) 0 0 0,
            inset $green $size-neg 0 0 0
        ;
    }
    75%   {
        box-shadow:
            inset $black 0 (4 * $size) 0 0,
            inset $black 0 0 0 0,
            inset $black (0.3 * $size-neg) 0 0 0,
            inset $green $size-neg 0 0 0
        ;
    }
    100%   {
        box-shadow:
            inset $black 0 (0.5 * $size) 0 0,
            inset $black 0 (3.5 * $size-neg) 0 0,
            inset $black (0.3 * $size-neg) 0 0 0,
            inset $green $size-neg 0 0 0
        ;
    }
}

@keyframes paddle_two{
    0%   {
        box-shadow:
            inset $black 0 0 0 0,
            inset $black 0 (4 * $size-neg) 0 0,
            inset $black (0.3 * $size) 0 0 0,
            inset $green $size-neg 0 0 0
        ;
    }
    50%   {
        box-shadow:
            inset $black 0 (3 * $size) 0 0,
            inset $black 0 $size-neg 0 0,
            inset $black (0.3 * $size) 0 0 0,
            inset $green $size-neg 0 0 0
        ;
    }
    62.5% {
        box-shadow:
            inset $black 0 (4 * $size) 0 0,
            inset $black 0 0 0 0,
            inset $black (0.3 * $size) 0 0 0,
            inset $green $size-neg 0 0 0
        ;
    }
    75%   {
        box-shadow:
            inset $black 0 (2 * $size) 0 0,
            inset $black 0 (2 * $size-neg) 0 0,
            inset $black (0.3 * $size) 0 0 0,
            inset $green $size-neg 0 0 0
        ;
    }
    100%   {
        box-shadow:
            inset $black 0 0 0 0,
            inset $black 0 (4 * $size-neg) 0 0,
            inset $black (0.3 * $size) 0 0 0,
            inset $green $size-neg 0 0 0
        ;
    }
}